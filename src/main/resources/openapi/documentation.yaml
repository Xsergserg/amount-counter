openapi: "3.0.3"
info:
  title: "Amount-counter API"
  description: "Small API for requesting data or file"
  version: "1.0.0"
servers:
  - url: "http://0.0.0.0:8080"
paths:
  /api/getProducts:
    get:
      tags:
        - Controller
      description: "Get products list"
      responses:
        "200":
          description: "OK"
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProductsList'
        "500":
          description: "Internal server error"
  /api/getSummary:
    get:
      tags:
        - Controller
      description: "Get products summary pdf file"
      parameters:
        - in: query
          required: true
          name: ids
          schema:
            type: string
          description: ids list which should be included to pdf report
          example: 1,2,3
      responses:
        "200":
          description: "OK"
          content:
            application/pdf:
              schema:
                type: string
                format: binary
        "400":
          description: "Bad request"
        "500":
          description: "Internal server error"
components:
  schemas:
    Product:
      title: Product
      type: object
      properties:
        id:
          type: integer
          example: 1
        name:
          type: string
          example: "Diablo IV"
        amount:
          type: integer
          example: 900
    ProductsList:
      title: ProductsList
      type: array
      items:
        $ref: '#/components/schemas/Product'
